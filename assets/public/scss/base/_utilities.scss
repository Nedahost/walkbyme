@use '../abstracts/breakpoints' as b;

// ==================================================
// 1. DISPLAY UTILITIES
// ==================================================
.d-none         { display: none !important; }
.d-block        { display: block !important; }
.d-flex         { display: flex !important; }
.d-inline       { display: inline !important; }
.d-inline-block { display: inline-block !important; }
.d-grid         { display: grid !important; }

// Responsive Display Loop
// Προσοχή: Εδώ χρησιμοποιούμε το b.up() αντί για breakpoint-up()
@each $breakpoint, $width in b.$breakpoints {
  @include b.up($breakpoint) {
    .d-#{$breakpoint}-none         { display: none !important; }
    .d-#{$breakpoint}-block        { display: block !important; }
    .d-#{$breakpoint}-flex         { display: flex !important; }
    .d-#{$breakpoint}-inline       { display: inline !important; }
    .d-#{$breakpoint}-inline-block { display: inline-block !important; }
    .d-#{$breakpoint}-grid         { display: grid !important; }
  }
}

// ==================================================
// 2. FLEXBOX UTILITIES
// ==================================================
.flex-row            { flex-direction: row !important; }
.flex-column         { flex-direction: column !important; }
.flex-wrap           { flex-wrap: wrap !important; }
.flex-nowrap         { flex-wrap: nowrap !important; }

.justify-content-start   { justify-content: flex-start !important; }
.justify-content-end     { justify-content: flex-end !important; }
.justify-content-center  { justify-content: center !important; }
.justify-content-between { justify-content: space-between !important; }
.justify-content-around  { justify-content: space-around !important; }

.align-items-start   { align-items: flex-start !important; }
.align-items-end     { align-items: flex-end !important; }
.align-items-center  { align-items: center !important; }
.align-items-stretch { align-items: stretch !important; }

// ==================================================
// 3. SPACING UTILITIES (Automated Loop)
// Παράγει m-1, p-2, mt-3, py-4 κλπ.
// ==================================================
$utilities: (
  "margin": (
    "prefix": "m",
    "values": (0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 8: 8, auto: auto)
  ),
  "padding": (
    "prefix": "p",
    "values": (0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 8: 8)
  )
);

@each $property, $map in $utilities {
  $prefix: map-get($map, "prefix");
  $values: map-get($map, "values");

  @each $key, $val in $values {
    // Αν η τιμή είναι "auto", δεν βάζουμε var(--space-...)
    $value: if($key == auto, auto, var(--space-#{$val}));

    // Base classes (m-1, p-1)
    .#{$prefix}-#{$key} { #{$property}: $value !important; }
    
    // Directional (mt-1, pt-1)
    .#{$prefix}t-#{$key} { #{$property}-top: $value !important; }
    .#{$prefix}b-#{$key} { #{$property}-bottom: $value !important; }
    .#{$prefix}l-#{$key} { #{$property}-left: $value !important; }
    .#{$prefix}r-#{$key} { #{$property}-right: $value !important; }
    
    // Axes (mx-1, py-1)
    .#{$prefix}x-#{$key} { 
      #{$property}-left: $value !important; 
      #{$property}-right: $value !important; 
    }
    .#{$prefix}y-#{$key} { 
      #{$property}-top: $value !important; 
      #{$property}-bottom: $value !important; 
    }
  }
}

// ==================================================
// 4. COLOR UTILITIES
// ==================================================
$theme-colors: "primary", "secondary", "success", "error", "warning", "info", "gray-100", "gray-900", "white", "black";

@each $color in $theme-colors {
  .text-#{$color} { color: var(--clr-#{$color}) !important; }
  .bg-#{$color}   { background-color: var(--clr-#{$color}) !important; }
}

// ==================================================
// 5. TEXT ALIGNMENT
// ==================================================
.text-center { text-align: center !important; }
.text-left   { text-align: left !important; }
.text-right  { text-align: right !important; }

// ==================================================
// 6. SIZING
// ==================================================
.w-100 { width: 100% !important; }
.h-100 { height: 100% !important; }
.w-auto { width: auto !important; }